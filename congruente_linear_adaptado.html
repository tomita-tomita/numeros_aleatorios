<!DOCTYPE html>
<html lang="pt-br">
	<head>
    	<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<title>Congruente Linear Adaptado</title>

    	<link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">

	</head>
	<body>    
		<div class="col-md-12" style="margin-top: 2rem">
  			<div class="panel-group">
				<div class="panel panel-default">
      				<div class="panel-heading">Congruente Linear Adaptado</div>
      					<div class="panel-body">      					
  						X<sub>n+1</sub> = (a*X<sub>n</sub>+b) % m    
						<!--<br>a = 7<sup>5</sup> = 16807
						<br>m = 2<sup>31</sup>-1 => 2147483647-->
						<div class="row ">
				  			<div class="col-lg-6">					    		 
				    			<div class="input-group">
			    					<label>a</label>
			      					<input id="valor_a" type="number" class="form-control" placeholder="Valor de A" value="16807" disabled="disabled">					      					      					     
				    			</div>
				    			<br>				    					    
				    			<div class="input-group">	
				    				<label>m</label>				    
				      				<input id="valor_m" type="number" class="form-control" placeholder="Valor de M" value="2147483647" disabled="disabled">					      					      					      			
				    			</div>
								<br>
				    			<div class="input-group">	
				    				<label>b</label>				    
				      				<input id="valor_b" type="number" max="2147483647" class="form-control" placeholder="Valor de b">					      					      					      			
				    			</div>
								<br>
				    			<div class="input-group">	
				    				<label>Quantidade de amostras</label>				    
				      				<input id="qtd_amostras" type="number" class="form-control" min="0">					      					      					      			
				    			</div>
								<br>								
			    			</div>
		    			</div>
		    			<div class="row col-md-6" style="margin-top: 1rem;">
			    			<div>	
		        				<button class="btn btn-primary" type="button" id="botao_limpar">Limpar</button>					        					       			      				
		        				<button class="btn btn-primary" type="button" id="botao">Go!</button>					        					       
		      				</div>
	      				</div>
						<ul class="nav nav-pills pull-right" style="padding: 1rem">
						  <li class="active"><a href="index.html">Voltar</a></li>					  					  
						</ul>    					      				
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-12">
  			<div class="panel-group">
				<div class="panel panel-default">
      				<div class="panel-heading">Resultados</div>
  					<div class="panel-body">      							
						<div class="row" style="margin-top: 2rem;">
							<div class="col-lg-6">					    					    
								<div id="results" class="hide col-md-6"></div>
								<div id="sementes" class="hide col-md-6">				    				
				    			</div>
				  			</div>
						</div> 
						<div class="row" style="margin-top: 2rem;">
							<div class="col-lg-6">					    										
				    			<div id="numbers" class="hide col-md-6">									
								</div>
				  			</div>
						</div> 	
					</div>		
				</div>
			</div>
		</div>		
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    	<script src="assets/bootstrap/js/bootstrap.min.js"></script>
  </body>
  <script type="text/javascript">
  		$('#botao_limpar').on('click', function(){
  			$('#results').html('');
  			$('#sementes').html('');
			$('#numbers').html('');
  		});

		$('#botao').on('click', function(){
			$('#botao_limpar').click();
			$a = $('#valor_a').val();
			$m = $('#valor_m').val();
			$b = $('#valor_b').val();
			$qtd = $('#qtd_amostras').val();
			$sementes = [];
			$sementes[0] = Math.floor((Math.random() * $m) - 1);
			for(var i = 1; i < 3; i++){
				$sementes[i] = (($a*$sementes[i-1]) + $b) % parseInt($m);
			}
			$('#sementes').removeClass('hide');
			$('#numbers').removeClass('hide');
			for(var j = 0; j < $sementes.length; j++){
				$('#numbers').append('<p class=""><strong>Semente: '+$sementes[j]+'</strong></p>');
				for(var k = 0; k < $qtd; k++){
					$sortiado = Math.floor((Math.random($sementes[j]) * 100) + 1);
					$('#numbers').append('<p class="num_sorteado">'+k+'=>'+$sortiado+'</p>');
					$sortiado = null;
				}
			}
		});    
  </script>
</html>